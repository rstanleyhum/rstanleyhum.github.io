<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Stanley Hum's website</title>
  <link rel="stylesheet" href='https:&#x2F;&#x2F;www.stanleyhum.com&#x2F;css/mybulma.css'>
</head>

<body>
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <div class="navbar-item">
            <a class="navbar-item" href="/"><b>R. Stanley Hum</b></a>
        </div>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
  
    <div id="navbarBasicExample" class="navbar-menu">
        <div class="navbar-start">
            <a class="navbar-item" href="/blog/">Current</a>
            <a class="navbar-item" href="/archive/">Archived</a>
        </div>

        <div class="navbar-end">
            <div class="navbar-item">
                <a class="navbar-item" href="mailto:r.stanley.hum@stanleyhum.com">Email</a>
                <a class="navbar-item" href="https://github.com/rstanleyhum">GitHub</a>
                <a class="navbar-item" href="https://www.linkedin.com/in/rstanleyhum">LinkedIn</a>
                <a class="navbar-item" href="https://twitter.com/rstanleyhum">Twitter</a>  
            </div>
        </div>
    </div>
  </nav>
  <section class="section mx-6">
    <div class="container mx-6 px-6">
        
<h1 class="title">
  Creating ssh keys for the master key
</h1>
<p class="subtitle"><strong>April 26, 2018</strong></p>
<h1 id="things-that-you-need">Things that you need</h1>
<ol>
<li>1 Raspberry Pi Zero 1.3 (don't get the WiFi edition because we want to use it as a airgapped computer)</li>
<li>3 USB sticks (I have 8GB but you don't need more than 1 GB because it will be used for backup of the ssh-keys)</li>
<li>2 Micro SD at 8GB with adapter.</li>
<li>1 Mini HDMI to HDMI cable</li>
<li>1 USB hub</li>
<li>1 USB keyboard</li>
<li>1 Monitor with HDMI input</li>
<li>1 USB 8GB stick</li>
</ol>
<p>Process:</p>
<ol>
<li>Download Windows 10 on USB on main computer.
1a. Download Rufus
1b. Confirm that Rufus is okay</li>
<li>Place on USB Key for installation
2a. Place rufus on USB key</li>
<li>Install Windows 10 on separate laptop with clean installation.
3a. Place rufus on separate laptop.</li>
<li>Download Raspbian Stretch (2018-04-26). At the time of writing this guide the tools that are necessary are on Raspbian. They include:
i. gnupg
ii. ssh-keygen
iii. /proc/random</li>
<li>Using rufus copy Raspbian Stretch onto MicroSD #1</li>
<li>Using rufus copy Raspbian Stretch onto MicroSD #2 (backup system)</li>
<li>Connect keyboard, monitor, powersupply, microsd #1 to raspberry pi Zero</li>
<li>Boot up Raspbian</li>
<li>Login with pi/raspberry.</li>
<li>Check hardware entropy with:
a. cat /proc/random/entroy_avail =&gt; it should read in the 3000s (higher is better)</li>
<li>Use GPG to create a master key (4096 bit; some people use a weird number)</li>
<li>Create a revocation certificate.</li>
<li>Backup the revocation certificate and the master key on both USB. I may want to print it out by connecting a USB printer.</li>
<li>Put the backups in a safe place.</li>
<li>Create subkeys - size 2048
i. signature
ii. encryption
iii. authentication</li>
<li>Backup the subkeys</li>
<li></li>
</ol>
<p>References:</p>
<ol>
<li>https://blog.josefsson.org/2014/06/23/offline-gnupg-master-key-and-subkeys-on-yubikey-neo-smartcard/</li>
</ol>


    </div>
  </section>
</body>

</html>
